# AWS to Azure Product Handoff

## Overview

Upon the completion of the pilot project, NavaLabs will relinquish the responsibilities of maintenance and hosting the GenAI Referral Tool. Goodwill will need to provision service container hosting in order to keep the GenAI Referral Tool running.

## Application Architecture

There are two main services that host the application. The frontend is a NextJS based React application that allows the case manager to enter information about the client and use that information to identify resources for the client and create an action plan. The frontend allows the case manager to print or email the list of resources and action plan. The frontend will require its own container in your hosting infrastructure.

The second service is the backend and this hosts several key APIs that drive the functionality of the GenAI Referral Tool. The Hayhooks web framework hosts several APIs that interact with LLM providers such as OpenAI to identify the referrals and to create an action plan. There are streaming and synchronous endpoints for those responses. Additionally, this API service could be used separately from the frontend and integrated into other applications.

The backend application requires a PostgreSQL database container. This database stores all LLM responses generated by the application and Phoenix monitoring trace data. The email functionality reads from this database to send referrals and action plans to clients.

## Technical Components

The following are the different components of the application that will need to be provisioned, configured, and tested in order to host the application:

| Service | Required? | Technology | Current AWS Service | Azure Replacement | Function |
|---------|-----------|------------|---------------------|-------------------|----------|
| Frontend | Required | NextJS/React | ECS | Azure Container Apps | User interface to enter client information, view referrals and action plans |
| Backend/API | Required | Python/Hayhooks | ECS | Azure Container Apps | API layer that communicates with the LLM, database, and RAG DB to provide accurate responses |
| Database | Required | PostgreSQL | RDS | Azure Database for PostgreSQL | Core application data storage for all LLM responses, users, and monitoring data |
| Vector Database | Recommended | ChromaDB | ECS | Azure Container Instances | Hosts information for Retrieval Augmented Generation (RAG) to improve response speed and accuracy |
| Knowledge Base | Recommended | File storage | AWS S3 | Azure Blob Storage | Hosts the case manager's lists of trusted resources and job listings |
| Email Service | Optional | Email API | AWS SES | Azure ACS Email | Allows sending referral lists and action plans to case managers and clients |
| Monitoring | Optional | Phoenix Arize | ECS | Azure Container Instances | Provides traces to review user activity and prompt version management for continuous improvement |

## Component Details

### Email Service

During the pilot, emailing was implemented using AWS Secure Business Email, also known as AWS SES. This functionality will require provisioning Azure ACS Email or an equivalent email messaging system. Alternatively, users can print and save the results as a PDF in order to retain the ability to export results.

### RAG Database and Knowledge Base

The API that identifies and returns referrals depends on the RAG database and knowledge base. The knowledge base is the folder(s) that holds documents with lists of trusted community resources and job listings. During the pilot we hosted the knowledge base in AWS S3. Goodwill will need an Azure Blob or similar service to host and maintain the knowledge base used by the RAG Database.

The LLM can research and identify resources on its own using web search functionality, however our pilot experimentation found that using a supporting RAG DB increased the speed and accuracy of the GenAI Referral Tool. Whilst not absolutely necessary to maintain the core functionality of the GenAI Referral Tool, we recommend that a container to host the Chroma DB used by the RAG system and the Azure Blob to host the knowledge base be provisioned and hosted.

### Monitoring

Optionally, Goodwill may choose to host and use another supporting service, Phoenix Arize for monitoring the application and configuring LLM prompts.

## Resources Required to Begin Hosting the Application

In order to start hosting the application, you will need to allocate one Azure Administrator (or comparable equivalent if licensing a different hosting provider). Their estimated time use will be 12-16 hours of time spent provisioning the services and testing. We would need to partner with them to ensure proper configuration and functionality starting no later than March 16, 2026 in order to allow enough time for troubleshooting and final delivery by March 31, 2026. We would recommend partnering the Azure Admin with a user familiar with the application in order to perform comprehensive integration testing.
